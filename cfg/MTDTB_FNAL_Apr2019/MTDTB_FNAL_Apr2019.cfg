<h4reco>
outNameSuffix ./
path2data /eos/cms/store/group/dpg_mtd/comm_mtd/TB/MTDTB_FNAL_Apr2019/DataTree/
pluginList DigiReco WFReco
run 6872
maxEvents -1
maxFiles -1
firstSpill -1
</h4reco>

#--FNAL Track Dumper
<FNALTrackReco>
pluginType FNALTrackReco
</FNALTrackReco>

#---run info
<AdditionalInfo>
pluginType InfoTreeMaker
treeName   info
trackedVariable 'h4reco.run'
mappedVarsNum NINOthr biasNINOfront biasNINOrear 
mappedVarsStr  digiConf sensorConf
originValues -1
digiConf -1.
sensorConf -1.
NINOthr -1.
biasNINOfront -1.
biasNINOrear -1.
</AdditionalInfo>


#digitizer TRG0 TRG1 TRG2 PTK0 PTK1 PTK2 TOPAMP1 TOPAMP2 MIDAMP1 MIDAMP2 BTMAMP1 BTMAMP2 TOPTIM1 TOPTIM2 MIDTIM1 MIDTIM2 BTMTIM1 BTMTIM2 AMP1 AMP2 TIM1 TIM2
digitizer PTK0 PTK1 PTK2 TOPAMP1 TOPAMP2 MIDAMP1 MIDAMP2 BTMAMP1 BTMAMP2 TOPTIM1 TOPTIM2 MIDTIM1 MIDTIM2 BTMTIM1 BTMTIM2 AMP1 AMP2 TIM1 TIM2

#---Digi config
<DigiReco>
pluginType DigitizerReco
channelsNames= digitizer
nSamples   1024
tUnit 0.2
</DigiReco>

#---WF reconstruction
<WFReco>
pluginType WFAnalyzer
srcInstanceName DigiReco
channelsNames= DigiReco.channelsNames 
timeRecoTypes LED CFD LED20 LED30 LED50 LED70 LED100 LED200 LED300 LED500 LED700 LED1000 LED2000 LED3000
fillWFtree 1
WFtreePrescale 100
</WFReco>



<PTK0>
digiBoard 1
digiGroup 0
digiChannel 0
polarity -1
nSamples 1024
tUnit 0.2
baselineWin 1 100
baselineInt 101 150
signalWin 175 700 3 3 gaus 0
signalInt 10 10
CFD 0.5 5
</PTK0>

<PTK1= PTK0>
digiGroup 1
digiChannel 0
</PTK1>

<PTK2= PTK0>
digiGroup 2
digiChannel 0
</PTK2>



<TRG0= PTK0>
digiGroup 0
digiChannel 8
signalWin 50 1000 3 100 pol0 0
LED 500 3 2
CFD 0.5 5
</TRG0>

<TRG1= TRG0>
digiGroup 1
</TRG1>

<TRG2= TRG0>
digiGroup 2
</TRG2>



<TOPAMP1= PTK0>
digiGroup 1
digiChannel 1
polarity -1
baselineWin 1 100
baselineInt 101 150
#signalWin 175 700 15 100 x<[1]?0.:[0]*(exp(-1.*(x-[1])/[2])-exp(-1.*(x-[1])/[3]))/([2]-[3]) 4 15000. 50. 20. 2.
signalWin 175 700 5 5 pol2 0
signalInt 50 400
CFD 0.5 5
</TOPAMP1>

<TOPAMP2= TOPAMP1>
digiGroup 1
digiChannel 4
</TOPAMP2>

<MIDAMP1= TOPAMP1>
digiGroup 1
digiChannel 2
</MIDAMP1>

<MIDAMP2= TOPAMP1>
digiGroup 1
digiChannel 5
</MIDAMP2>

<BTMAMP1= TOPAMP1>
digiGroup 1
digiChannel 3
</BTMAMP1>

<BTMAMP2= TOPAMP1>
digiGroup 1
digiChannel 6
</BTMAMP2>

<AMP1= TOPAMP1>
digiGroup 2
digiChannel 3
</AMP1>

<AMP2= TOPAMP1>
digiGroup 2
digiChannel 4
</AMP2>



<TOPTIM1= PTK0>
digiGroup 0
digiChannel 1
polarity -1
baselineWin 195 199
baselineInt 185 194
signalWin 200 700 25 25 pol0 0
signalInt 10 10
LED20    20 2 1
LED30    30 2 1
LED50    50 2 1
LED70    70 2 1
LED100  100 2 1
LED200  200 2 1
LED300  300 2 1
LED500  500 2 1
LED700  700 2 1
LED1000 1000 2 1
LED2000 2000 2 1
LED3000 3000 2 1
</TOPTIM1>

<TOPTIM2= TOPTIM1>
digiGroup 0
digiChannel 4
</TOPTIM2>

<MIDTIM1= TOPTIM1>
digiGroup 0
digiChannel 2
</MIDTIM1>

<MIDTIM2= TOPTIM1>
digiGroup 0
digiChannel 5
</MIDTIM2>

<BTMTIM1= TOPTIM1>
digiGroup 0
digiChannel 3
</BTMTIM1>

<BTMTIM2= TOPTIM1>
digiGroup 0
digiChannel 6
</BTMTIM2>

<TIM1= TOPTIM1>
digiGroup 2
digiChannel 1
</TIM1>

<TIM2= TOPTIM1>
digiGroup 2
digiChannel 2
</TIM2>
