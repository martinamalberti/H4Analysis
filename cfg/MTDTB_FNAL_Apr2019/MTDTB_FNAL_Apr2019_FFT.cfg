<h4reco>
outNameSuffix ./
path2data /eos/cms/store/group/dpg_mtd/comm_mtd/TB/MTDTB_FNAL_Apr2019/DataTree/
pluginList DigiReco T2F F2T WFReco
run 6872
maxEvents -1
maxFiles -1
firstSpill -1
</h4reco>

#--FNAL Track Dumper
<FNALTrackReco>
pluginType FNALTrackReco
</FNALTrackReco>

<T2F>
pluginType FFTAnalyzer
srcInstanceName DigiReco
normalizeInput 0
makeTemplates Re Im Ampl Phase
channelsNames TOPTIM1
storeTree 0
</T2F>

<F2T= T2F>
srcInstanceName T2F
FFTType F2T
storeTree 0
#notchFilter 5 150
</F2T>

#---run info
<AdditionalInfo>
pluginType InfoTreeMaker
treeName   info
trackedVariable 'h4reco.run'
mappedVarsNum NINOthr biasNINOfront biasNINOrear 
mappedVarsStr  digiConf sensorConf
originValues -1
digiConf -1.
sensorConf -1.
NINOthr -1.
biasNINOfront -1.
biasNINOrear -1.
</AdditionalInfo>


#digitizer PTK TIM1 TIM2 TIM3 TIM4 TIM5 TIM6 AMP1 AMP2 AMP3 AMP4 AMP5 AMP6 TRG_0 TRG_1
#digitizer PTK TOPAMP1 TOPAMP2 MIDAMP1 MIDAMP2 BTMAMP1 BTMAMP2 TOPTIM1 TOPTIM2 MIDTIM1 MIDTIM2 BTMTIM1 BTMTIM2 
digitizer TOPTIM1

#---Digi config
<DigiReco>
pluginType DigitizerReco
channelsNames= digitizer
nSamples   1024
tUnit 0.2
</DigiReco>

#---WF reconstruction
<WFReco>
pluginType WFAnalyzer
srcInstanceName F2T
channelsNames= DigiReco.channelsNames 
timeRecoTypes LED TED CFD LED20 LED30 LED50 LED70 LED100 LED200 LED300 LED500 LED750 LED1000 LED2000 LED3000
fillWFtree 1
WFtreePrescale 100
</WFReco>

<PTK>
digiBoard 1
digiGroup 0
digiChannel 0
polarity -1
nSamples 1024
tUnit 0.2
baselineWin 1 100
baselineInt 101 150
signalWin 175 700 3 3 gaus 0
signalInt 10 10
CFD 0.5 5
</PTK>

<TRG_0= PTK>
digiGroup 0
digiChannel 8
signalWin 50 1000 3 100 pol0 0
LED 500 3 2
CFD 0.5 5
</TRG_0>

<TRG_1= TRG_0>
digiGroup 1
</TRG_1>

<TOPAMP1= PTK>
digiGroup 1
digiChannel 1
polarity -1
baselineWin 1 100
baselineInt 101 150
#signalWin 175 700 15 100 x<[1]?0.:[0]*(exp(-1.*(x-[1])/[2])-exp(-1.*(x-[1])/[3]))/([2]-[3]) 4 15000. 50. 20. 2.
signalWin 175 700 5 5 pol2 0
signalInt 50 400
LED 350 2 1
TED 350 2 1
</TOPAMP1>

<TOPAMP2= TOPAMP1>
digiGroup 1
digiChannel 4
</TOPAMP2>

<MIDAMP1= TOPAMP1>
digiGroup 1
digiChannel 2
</MIDAMP1>

<MIDAMP2= TOPAMP1>
digiGroup 1
digiChannel 5
</MIDAMP2>

<BTMAMP1= TOPAMP1>
digiGroup 1
digiChannel 3
</BTMAMP1>

<BTMAMP2= TOPAMP1>
digiGroup 1
digiChannel 6
</BTMAMP2>


<TOPTIM1= PTK>
digiGroup 0
digiChannel 1
polarity -1
baselineWin 195 199
baselineInt 185 194
signalWin 200 700 25 25 pol0 0
signalInt 10 10
LED 350 2 1
TED 350 2 1
maxPhaseFitFreq 0.04
</TOPTIM1>

<TOPTIM2= TOPTIM1>
digiGroup 0
digiChannel 4
</TOPTIM2>

<MIDTIM1= TOPTIM1>
digiGroup 0
digiChannel 2
</MIDTIM1>

<MIDTIM2= TOPTIM1>
digiGroup 0
digiChannel 5
</MIDTIM2>

<BTMTIM1= TOPTIM1>
digiGroup 0
digiChannel 3
</BTMTIM1>

<BTMTIM2= TOPTIM1>
digiGroup 0
digiChannel 6
</BTMTIM2>
